[general]
status_path = "~/.local/share/vdirsyncer/status/"

[pair icloud_calendar]
a = "icloud_calendar_local"
b = "icloud_calendar_remote"
collections = ["from a", "from b"]
metadata = ["color"]

[storage icloud_calendar_local]
type = "filesystem"
path = "~/.local/share/calendars/icloud/"
fileext = ".ics"

[storage icloud_calendar_remote]
type = "caldav"
url = "https://caldav.icloud.com/"
username.fetch = ["command", "sh", "-c", "grep ICLOUD_EMAIL ~/.secrets/icloud.env | cut -d= -f2"]
password.fetch = ["command", "sh", "-c", "grep ICLOUD_PASSWORD ~/.secrets/icloud.env | cut -d= -f2"]

# Google Calendar - Hartprint
[pair google_hartprint]
a = "google_hartprint_local"
b = "google_hartprint_remote"
collections = ["from a", "from b"]
metadata = ["color"]

[storage google_hartprint_local]
type = "filesystem"
path = "~/.local/share/calendars/google_hartprint/"
fileext = ".ics"

[storage google_hartprint_remote]
type = "caldav"
url.fetch = ["command", "~/.local/bin/vdirsyncer-google-url"]
username.fetch = ["command", "sh", "-c", "grep GOOGLE_EMAIL ~/.secrets/google_hartprint.env | cut -d= -f2"]
password.fetch = ["command", "sh", "-c", "grep GOOGLE_PASSWORD ~/.secrets/google_hartprint.env | cut -d= -f2 | tr -d '\"'"]
